# JavaScript基础

### 一、JS数据类型

**值类型(基本类型)**：

字符串（**String**）、数字(**Number**)、布尔(**Boolean**)、空（**Null**）、未定义（**Undefined**）、**Symbol**。

注**：**<mark style="color:red;">Symbol</mark> 是 ES6 引入了一种新的原始数据类型，表示独一无二的值。

**引用数据类型（对象类型）**：

对象(**Object**)、数组(**Array**)、函数(**Function**)，还有两个特殊的对象：正则（**RegExp**）和日期（**Date**）。（ES6提供：**Map**,**Set**）

**JavaScript 拥有动态类型**

JavaScript 拥有动态类型。这意味着相同的变量可用作不同的类型。

**Undefined 和 Null**

Undefined 这个值表示变量**不含有值**。可以通过将变量的值设置为 null 来**清空变量**。

### **二、js基本数据类型有哪些？引用数据类型有哪些？基本数据类型和引用数据类型的区别？**&#x20;

**基本数据类型**：null、undefined、symbol、boolean、string、number

**引用数据类型**：Object、Array、Function、RegExp、Date、特殊的**基本包装类型**（String、Number、Boolean）、单体**内置对象**（Global、Math）

**区别**：

1. 基本数据类型的比较是值的比较；引用数据类型比较的是内存地址是否相同
2. 基本数据类型存放在栈区；引用数据类型同时存放在栈区和堆区
3. 基本数据类型的赋值是简单赋值；引用数据类型赋值是对象引用
4. 基本数据类型不能添加引用和方法；引用数据类型可以

### **三、什么是symbol？**

ES6新增属性，Symbol(description)函数生成一个全局唯一的值，能够作为对象属性的标识符；description为字符串类型，仅作为对symbol的描述，相当于一个注释。

### 四、Boolean 对象的值

Boolean 对象代表两个值:"true" 或者 "false"

如果布尔对象**无初始值**或者其值为:

* <mark style="color:orange;">**0，-0，null，""，false，undefined，NaN**</mark>

那么对象的值为 **false**。否则，其值为 **true**（即使当变量值为字符串 "false" 时）！

### <mark style="color:red;">**五**</mark><mark style="color:red;">、JS精度丢失</mark>

<mark style="color:red;"></mark>

### **六、**[**JS数组常用方法**](../Chapter6/#yi-js-shu-zu-de-chang-jian-fang-fa)

|             方法            |                     说明                     |
| :-----------------------: | :----------------------------------------: |
|           push()          |                  添加元素到数组末尾                 |
|           pop()           |                  删除数组末尾元素                  |
|         unshift()         |                 添加元素到数组的头部                 |
|          shift()          |                  删除数组最前面元素                 |
|         indexOf()         |                查看某个元素在数组中的位置               |
| splice(start, num, value) | 实现增删改操作（start开始下标，num删除元素个数，value插入或替换的元素） |
|     slice(begin, end)     |               浅拷贝数组并返回拷贝后的新数组              |
|        Array.from()       |          从一个类似数组或可迭代对象中创建一个新的数组实例          |
|  fill(value, start, end)  |        用一个固定值填充数组中\[start,end)的全部元素        |

### **七、js内存空间**

* 栈：存放变量
* 堆：存放复杂对象
* 池（一般也归类为栈中）：存放常量

栈内存由于自身数据结构的特点，系统效率较高；堆内存需要分配空间和地址，还要把地址存到栈中，所以效率低于栈

### **八、变量类型与内存的关系**

*   基本数据类型存放在栈区（栈内存中的变量一般在其当前执行环境结束就会被销毁和回收）

    基本数据类型占用空间小、大小固定，按值访问，属于被频繁使用的数据。
*   引用数据类型存放在栈区和堆区（堆内存中的变量只有在所有对它的引用都结束时才会被回收）

    引用数据类型占用空间大、大小不固定，若存储在栈中会影响程序运行的性能；但引用数据类型的指针存储在栈中，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会先检索其在栈中的地址，取得地址后再从堆中获得实体。

### 九**、什么是内存泄露？常见的内存泄露有哪些？如何避免？**

1. 定义：由于疏忽或错误造成程序未能释放那些已经不再使用的内存，造成内存的浪费
2. 案例：
   * 由于未声明而意外产生的全局变量
   * 没有回收的定时器和回调函数
   * 闭包（闭包之间是共享作用域的）
   * DOM元素的引用
3. 解决方案：
   * 减少不必要的全局变量，使用严格模式避免意外创建全局变量
   * 使用完数据后及时解除引用（DOM引用、闭包中的变量、定时器清除）
   * 组织好函数逻辑，避免死循环等造成浏览器卡顿和崩溃

参考：[「前端进阶」JS中的内存管理](https://juejin.im/post/5d0706a6f265da1bc23f77a9)

### **十、JS垃圾回收的两种方法**

* 标记清除：总体思想是将寻找不再使用的对象变为寻找无法到达的对象，即从根部（全局对象）出发定时扫描内存中的对象，凡是能从根部到达的对象都是还需要使用的。
  1. 垃圾收集器在运行的时候会给存储在内存中的所有变量都加上标记
  2. 从根部出发将能触及到的对象的标记清除
  3. 还存在标记的变量被视为准备删除的变量
  4. 垃圾收集器执行最后一步内存清除工作，销毁那些带标记的值并回收它们所占用的内存空间
* 引用计数：统计引用类型变量声明后被引用次数，当次数为0时该变量被回收。

### **十一、let、const、var区别**

|   类型  | 变量提升 | 暂时性死区 | 重复声明 | 初始值 |     作用域     |
| :---: | :--: | :---: | :--: | :-: | :---------: |
|  var  |  存在  |  不存在  |  允许  | 不需要 | 全局作用域、函数作用域 |
|  let  |  不存在 |   存在  |  不允许 | 不需要 |    块级作用域    |
| const |  不存在 |   存在  |  不允许 |  需要 |    块级作用域    |

变量提升：变量可在声明前使用\
暂时性死区：代码块内，使用let、const声明变量之前，该变量都是不可用的

### **十二、JS类型判断**

typeof A、A instanceof B、Object.prototype.toString.call (A)

注意：数组判断不能用typeof（typeof只能判断是否是object）

### **十三、==和===、以及Object.is的区别**

\==：两边值类型不同时，强制转换成number再进行比较（null==undefined→true）

\===：严格比较运算符，不会进行强制类型转换（+0===-0 true；NaN===NaN false）

Object.is()：与===基本一致（Object.is(+0,-0) false；Object.is(NaN,NaN) true）

### **十四、如何获得对象上的属性**

* for(let l in obj)：遍历一个对象及其原型链中所有可枚举的属性
* **object.keys**：返回一个包含所有可枚举的属性名称的数组
* object.getOwnPropertyNames：返回一个包含不可枚举的属性的数组（基本包装类型的原型属性不可枚举，如Object、Array、Number等）

### **十五、JS中string的startswith和indexof两种方法的区别**

* str.startsWith(searchString, position)\
  searchString：要搜素的子字符串\
  position（可选）：搜索searchString的开始位置，默认为0\
  能找到返回true，找不到返回false
* str.indexOf(searchValue, fromIndex)\
  searchValue：要搜索的字符串\
  fromIndex（可选）：开始查找的位置，默认为0\
  没找到返回-1，否则返回searchValue第一次出现的索引

### **十六、JS语言特点**

* 运行在客户端浏览器上
* 不用预编译，直接解析执行代码
* 弱类型语言，较为灵活
* 与操作系统无关，跨平台
* 脚本语言、解释性语言

### **十七、说说C++，Java，JavaScript这三种语言的区别**

*   静态类型/动态类型

    C++、Java属于静态类型语言，编译的时候就能够知道每个变量的类型，编程时需给定类型；js属于动态类型语言，运行的时候才知道每个变量的类型，编程的时候无需显示指定的类型
*   编译型/解释型

    C++是编译型语言，需要编译器编译成本地可执行程序后才能运行，用户只使用编译好的本地代码；js是解释型语言，用户直接使用脚本解释器将脚本文件解释执行；Java分为两个阶段，首先像C++一样经过编译器编译，但生成字节码（与平台无关），然后由Java虚拟机运行字节码，使用解释器执行这些代码
*   js和Java的区别：

    Java编译字节码阶段和执行阶段是分开的，即编译阶段时间长短无所谓；对于js这些都是在网页和js文件下载后同执行阶段一起在网页的加载和渲染过程中实施的，所以对处理时间有严格要求
